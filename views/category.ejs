<% layout("/layouts/boilerplate")%>
<body>
  <div class="w-full">
    <div class="h-24 my-3 flex items-center p-3 gap-10">
      <div
        class="flex flex-col items-center opacity-50 hover:opacity-100 cursor-pointer"
        data-category="Trending"
      >
        <i class="fa-solid fa-fire text-2xl"></i>
        <p>Trending</p>
      </div>
      <div
        class="flex flex-col items-center opacity-50 hover:opacity-100 cursor-pointer"
        data-category="Rooms"
      >
        <i class="fa-solid fa-bed text-2xl"></i>
        <p>Rooms</p>
      </div>
      <div
        class="flex flex-col items-center opacity-50 hover:opacity-100 cursor-pointer"
        data-category="Iconic Cities"
      >
        <i class="fa-solid fa-mountain-city text-2xl"></i>
        <p>Iconic Cities</p>
      </div>
      <div
        class="flex flex-col items-center opacity-50 hover:opacity-100 cursor-pointer"
        data-category="Mountains"
      >
        <i class="fa-solid fa-mountain text-2xl"></i>
        <p>Mountains</p>
      </div>
      <div
        class="flex flex-col items-center opacity-50 hover:opacity-100 cursor-pointer"
        data-category="Castles"
      >
        <i class="fa-brands fa-fort-awesome text-2xl"></i>
        <p>Castles</p>
      </div>
      <div
        class="flex flex-col items-center opacity-50 hover:opacity-100 cursor-pointer"
        data-category="Amazing Pools"
      >
        <i class="fa-solid fa-person-swimming text-2xl"></i>
        <p>Amazing Pools</p>
      </div>
      <div
        class="flex flex-col items-center opacity-50 hover:opacity-100 cursor-pointer"
        data-category="Camping"
      >
        <i class="fa-solid fa-campground text-2xl"></i>
        <p>Camping</p>
      </div>
      <div
        class="flex flex-col items-center opacity-50 hover:opacity-100 cursor-pointer"
        data-category="Farms"
      >
        <i class="fa-solid fa-cow text-2xl"></i>
        <p>Farms</p>
      </div>
      <div
        class="flex flex-col items-center opacity-50 hover:opacity-100 cursor-pointer"
        data-category="Arctic"
      >
        <i class="fa-regular fa-snowflake text-2xl"></i>
        <p>Arctic</p>
      </div>
    </div>
    <div class="flex flex-wrap gap-10">
      <%listings.forEach((listing) => {%>
      <div class="relative hover:opacity-85 h-[400px] w-[325px] rounded-md">
        <img
          src="<%=listing.image%>"
          alt="Listing image"
          class="z-0 h-full w-full rounded-md object-cover"
        />
        <div
          class="absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent"
        ></div>
        <div class="absolute bottom-4 left-4 text-left">
          <h1 class="text-lg font-semibold text-white"><%=listing.title%></h1>
          <p class="mt-2 text-sm text-gray-300">
            &#8377;<%=listing.price.toLocaleString("en-IN")%> / night
          </p>
          <a
            href="/listings/<%=listing._id%>"
            class="mt-2 inline-flex cursor-pointer items-center text-sm font-semibold text-white"
          >
            View Listing â†’
          </a>
        </div>
      </div>
      <%})%>
    </div>
  </div>
</body>
<script>
  document.querySelectorAll(".flex.cursor-pointer").forEach((icon) => {
    icon.addEventListener("click", (event) => {
      const category = event.currentTarget.getAttribute("data-category");
      window.location.href = `/listings/category/${category}`;
    });
  });
</script>
